1 = Release Notes - TigerGraph Server 3.2
2 
3 Release Date: Sep 30th, 2021
4 
5 == Release Notes for Previous Versions
6 
7 * https://docs.tigergraph.com/faqs/release-notes-tigergraph-3.1[Release Notes - TigerGraph 3.1]
8 * https://docs.tigergraph.com/v/3.0/faqs/release-notes-tigergraph-3.0[Release Notes - TigerGraph 3.0]
9 * https://docs.tigergraph.com/v/2.6/release-notes-change-log/release-notes-tigergraph-2.6[Release Notes - TigerGraph 2.6]
10 * https://docs.tigergraph.com/v/2.5/release-notes-change-log/release-notes-tigergraph-2.5[Release Notes - TigerGraph 2.5]
11 * https://docs.tigergraph.com/v/2.4/release-notes-change-log/release-notes-tigergraph-2.4[Release Notes - TigerGraph 2.4]
12 * https://docs.tigergraph.com/v/2.3/release-notes-change-log/release-notes-tigergraph-2.3[Release Notes - TigerGraph 2.3]
13 * https://docs.tigergraph.com/v/2.2/release-notes-change-log/release-notes-for-tigergraph-2.2[Release Notes - TigerGraph 2.2]
14 * For v2.1 and older, contact TigerGraph Support
15 
16 *For the running log of bug fixes, see xref:release-notes:change-log.adoc[].*
17 
18 == Compatibility with TigerGraph 3.1
19 
20 The following changes were made to the built-in roles in TigerGraph's Role-based Access Control
21 
22 * The built-in role `queryreader` can no longer run queries that include updates to the database.
23  ** To emulate the old `queryreader` role, create a role with all `queryreader` privileges, and also grant the `WRITE_DATA` privilege to the new role.
24 * The built-in role `admin` can no longer create users
25  ** To emulate the old `admin` role, create a global role with all `admin` privileges, and also grant the `WRITE_USER` privilege to the new role.
26 * To learn more about role management and the privileges of built-in roles, see:
27 ** xref:user-access:role-management.adoc[]
28 ** xref:reference:list-of-privileges.adoc[]
29 
30 == Compatibility with TigerGraph 2
31 
32 Major revisions (e.g., from TigerGraph 2 to TigerGraph 3) are the opportunity to deliver significant improvements. While we make every effort to maintain backward compatibility, in selected cases APIs have changed or deprecated features have been dropped, in order to advance the overall product.
33 
34 *Data migration*: A tool is available to migrate the data in TigerGraph 2.6 to TigerGraph 3.0. Please contact TigerGraph Support for assistance.
35 
36 *Query and API compatibility*:
37 
38 * Some gadmin syntax has changed. Notably. `gadmin set config` is now `gadmin config set`.  Please see xref:gadmin:management-with-gadmin.adoc[Managing with gadmin].
39 * Some features which were previously deprecated have been dropped. Please see xref:release-notes:v3.0-removal-of-previously-deprecated-features.adoc[V3.0 Removal of Previously Deprecated Features] for a detailed list.
40 
41 == New Features
42 
43 === User-defined Roles
44 
45 Privileges are introduced as the atomic unit for managing database user access. Database administrators can now define their own roles with customizable collections of privileges.
46 
47 For details on this feature, see xref:user-access:README.adoc[User Access Management].
48 
49 === Cross-region replication
50 
51 TigerGraph 3.2 provides complete native support for all data and metadata cross-region replication including automated schema changes, user and query management.
52 
53 For details on this feature, see Disaster Recovery.
54 
55 === Containerization of services
56 
57 TigerGraph 3.2 allows users to deploy TigerGraph single servers and clusters on Kubernetes. +
58 Running applications in containers on Kubernetes provides rapid spin-up and repeatability across environments.
59 
60 For details on this feature, see xref:kubernetes:README.adoc[Kubernetes].
61 
62 === Cluster resizing
63 
64 TigerGraph 3.2 provides built-in cluster management features that allow users to expand, shrink, and repartition their TigerGraph clusters.
65 
66 For details on this feature, see xref:cluster-resizing:README.adoc[Cluster resizing].
67 
68 === Workload Management
69 
70 TigerGraph 3.2 provides the `GSQL-REPILCA` and `GSQL-THREAD-LIMIT` header to specify the replica for a query to run on and a thread limit that a query is allowed to use.
71 
72 For details on this feature, see xref:API:built-in-endpoints.adoc#_run_an_installed_query_get[Run a query].
73 
74 === GraphStudio geospatial layout
75 
76 Starting with TigerGraph 3.2, if a vertex type has attributes named `latitute` and `longitute` , each with valid latitude and longitude values, users can choose the geospatial layout option in GraphStudio and display the vertices on the world map.
77 
78 === File output policy
79 
80 Starting in TigerGraph 3.2, GSQL has a xref:security:file-output-policy.adoc[file output policy] that contains a whitelist and a blacklist. GSQL queries will only write to the whitelist and are forbidden from writing to the blacklist.
81 
82 === Log viewing with Elasticsearch, Kibana, and Filebeat
83 Starting with TigerGraph 3.2, TigerGraph provides a gadmin command that can generate Filebeat configuration files for a TigerGraph cluster.
84 Read our xref:troubleshooting:elk-filebeat.adoc[step-by-step guide] to set up Elasticsearch, Kibana, and Filebeat to view TigerGraph logs.
85 
86 
87 == General Improvements
88 
89 === Expanded library of built-in GSQL functions
90 
91 TigerGraph 3.2 added xref:3.2@gsql-ref:querying:func/README.adoc[over 30 built-in functions] to the GSQL query language.
92 
93 === Relaxed variable declaration rules
94 
95 Starting in TigerGraph 3.2, xref:3.2@gsql-ref:querying:declaration-and-assignment-statements.adoc[base type variables and accumulators can be declared anywhere in a query] and are block-scoped.
96 
97 === Parameter passing with JSON
98 
99 Starting in TigerGraph 3.2, xref:3.2@gsql-ref:querying:query-operations.adoc#_run_query[users can pass in parameters to a GSQL query with a JSON object].
100 
101 === Subquery return anonymous tuples
102 
103 Starting in TigerGraph 3.2, subqueries in GSQL can return an anonymous tuple or a collection of anonymous tuples.
104 
105 === Query installation improvements
106 
107 TigerGraph 3.2 implemented the following improvements for query installation:
108 
109 * Updating a subquery will no longer require reinstalling all dependent queries
110 * Schema change will no longer trigger reinstalling all queries of the graph
111 * Concurrent query installation between graphs is now supported
112 * When installing queries on a cluster, TigerGraph will now utilize the computing power of multiple nodes to compile the queries, greatly improving installation performance
113 
114 === *WCAG-compliant accessibility features*
115 
116 The user interfaces of GraphStudio and Admin Portal - TigerGraph's GUI are improved to meet WCAG accessibility criteria. More users across a wider range of physical abilities will now be able to work effectively with GraphStudio and the visual Admin Portal.
117 
118 === Edit mode for graph exploration in GraphStudio
119 Starting with TigerGraph 3.2, users need to enter Edit Mode in the Graph Exploration Panel in order to write to the graph.
120 
121 === Enhanced cluster service status for AdminPortal
122 Cluster service status is moved from the footer of the Admin Portal page to the bottom of the navigation menu.
123 
124 === Improved GSQL auto-complete and syntax highlighting in GraphStudio
125 We made improvements to GraphStudio's auto-complete and syntax highlighting features so users have a better experience writing and editing queries in GraphStudio.
126 
127 === Substring search within graph exploration result in GraphStudio
128 Starting with TigerGraph 3.2, users can search substring to locate the vertices in addition to using exact match.
129 
130 === Function overloading
131 
132 Starting in TigerGraph 3.2, function overloading is now available. Query UDFs with the same name but different signatures can be defined in the UDF library.
133 
134 == Known Issues
135 
136 === Applications
137 
138 * *GraphStudio*
139  ** xref:gui:graphstudio:known-issues.adoc[Known Issues for GraphStudio]
140  ** The No-Code Data Migration feature is in Alpha release. Your feedback would be appreciated.
141  ** The No-Code Visual Query Builder is in Beta release. Your feedback would be appreciated.
142 * *AdminPortal*
143  ** xref:gui:admin-portal:known-issues.adoc[Known Issues for AdminPortal]
144 
145 === *GSQL*
146 
147 * *Multiple (Conjunctive) Path Patterns*:
148  ** There are no known functional problems, but the performance has not be optimized. Your feedback would be appreciated.
149 * *DML type check error in V2 Syntax:*
150  ** GSQL will report a wrong type check error for Query block with multiple POST-ACCUM clauses and Delete/Update attribute operation.
151 * *Turn on GSQL HA manually when upgrading from 3.0.x*
152  ** Users who are upgrading from 3.0.X need to manually start GSQL HA service. Please reach out to support for help with the process documented in: https://tigergraph.freshdesk.com/a/solutions/articles/5000865072
153 * *Stale data visible after Deletes using index*
154  ** Queries that use secondary index may still see the vertices being deleted until after the snapshots are fully rebuilt.

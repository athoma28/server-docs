1 = Authentication
2 :pp: {plus}{plus}
3 
4 TigerGraph's RESTful APIs communicate with either the REST{pp} server on port 9000 or the GSQL server on port 14240. Each server uses different methods of authentication.
5 
6 == REST{pp} Server Requests
7 
8 By default, TigerGraph REST{pp} endpoints are public: anyone with access to the HTTP ports of the TigerGraph server can run your endpoints. When REST{pp} authentication is enabled, then a valid authorization token must be included in the header.
9 
10 The REST{pp} server implements OAuth 2.0-style authorization as follows:
11 
12 . Each user xref:user-access:managing-credentials.adoc#_create_a_secret[can create one or more *secrets* (unique pseudorandom strings)]. Each secret is associated with a particular user and the user's privileges for a particular graph.
13 . Anyone who has this secret can invoke a special REST endpoint to xref:API:built-in-endpoints.adoc#_request_a_token_get[generate authorization *tokens*] (other pseudorandom strings).
14 . An authorization token can then be used to perform TigerGraph database operations via other REST endpoints. Each token will expire after a certain period of time. The TigerGraph default lifetime for a token is 1 month.
15 
16 === *Using Tokens*
17 
18 Once REST{pp} authentication is enabled, a valid token should always be included in the HTTP header. If you are using curl to format and submit your REST{pp} requests, then use the following syntax:
19 
20 .curl GSQL request, with authorization token in header
21 
22 [source,bash]
23 ----
24 curl -X GET -H "Authorization: Bearer <token>" '<request_URL>'
25 ----
26 
27 
28 
29 Here is a sample request:
30 
31 [source,bash]
32 ----
33 curl -X GET -H "Authorization: Bearer 01234567abcdefgh01234567abcdefgh" "http://localhost:9000/graph/socialNet/vertices/User?limit=3"
34 ----
35 
36 == GSQL Server Requests
37 
38 All requests made to the GSQL Server must be accompanied by your user credentials. You can use the `curl -u` option to pass in the username and password of the TigerGraph user:
39 
40 [source,bash]
41 ----
42 curl -X GET -u <username>:<password> "http://localhost:14240/<path_to_endpoint>
43 ----
44 
45 To keep your credentials more secure, one way to avoid having the user name and password on the command line is to instead use a https://everything.curl.dev/usingcurl/netrc[.netrc file] or a https://everything.curl.dev/cmdline/configfile[config file]. If you are in interactive mode, you can also use the `-u` option without specifying the password, and then curl will prompt for the password.
46 
47 ##

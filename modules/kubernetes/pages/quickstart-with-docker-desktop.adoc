1 = Quickstart with Docker Desktop
2 
3 This guide provides instructions to deploy a single-server TigerGraph instance to a local Kubernetes cluster via Docker Desktop.
4 
5 == Before you begin
6 
7 * https://www.docker.com/products/docker-desktop[Install Docker Desktop] on your computer.
8 * https://kubernetes.io/docs/tasks/tools/[Install the Kubernetes CLI `kubectl`].
9 * Enable the Docker Desktop Kubernetes engine. For more information, see https://docs.docker.com/desktop/kubernetes/[Docker official documentation].
10 * Verify that you have sufficient CPU, RAM and DISK for your TigerGraph deployment.
11 
12 == Procedure
13 
14 === 1. Download Kubernetes manifest
15 
16 Download https://raw.githubusercontent.com/tigergraph/ecosys/053b9abe8610e9a63d6fbfc1f4d4b0618841467f/k8s/deploy/tigergraph-docker.yaml[`tigergraph-docker.yaml`]. This is the file that describes your Kubernetes deployment.
17 
18 === 2. Create deployment
19 
20 Make sure that you have configured `kubectl` to use the correct context. In this case, the name of the context should be `docker-desktop`. Then run `kubectl apply`  to create the deployment. Replace `<path_to_tigergraph.yaml>` with the path to the `tigergraph-docker.yaml` file you downloaded in the step before.
21 
22 [source,text]
23 ----
24 $ kubectl apply -f <path_to_tigergraph.yaml>
25 ----
26 
27 === 3. Verify deployment
28 
29 Verify that the pods were created successfully:
30 
31 [source,text]
32 ----
33 $ kubectl get pods -l app=tigergraph -w
34 ----
35 
36 === 4. Test deployment
37 
38 The deployment maps port 9000 of the pod to port 30090 of `localhost`. We can test that the REST API is up and running by making a curl call to port 30090:
39 
40 [source,bash]
41 ----
42 $ curl http://localhost:30090/echo
43 {"error":false, "message":"Hello GSQL"}%
44 ----
45 
46 Port 14240 of the pod is mapped to port 30240 of `localhost`. Visit `+http://localhost:30240+` to access GraphStudio.
47 
48 == Cleanup
49 
50 Run the following command to delete all cluster resources:
51 
52 [source,text]
53 ----
54 $ kubectl delete -f <path_to_tigergraph.yaml> &&  kubectl delete pvc -l app=tigergraph
55 ----
